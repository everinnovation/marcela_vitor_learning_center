{% load static %}
<header class="bg-transparent w-full fixed top-0 left-0 z-50 transition duration-800 ease-in-out" id="navbar" style="top: -2px;">
    <nav class="container mx-auto flex justify-between items-center px-6 md:px-4 py-5 h-20 max-w-7xl">
        <button id="menu-toggle" class="flex items-center md:hidden focus:outline-none">
            <span class="material-symbols-outlined text-white text-4xl">menu</span>
        </button>

        <a href="#" class="md:flex-grow-0 mx-auto md:mx-0 md:ml-4 flex justify-center items-center min-w-[150px]">
            <img src="{% static 'assets/logo.png' %}" alt="School Logo" class="h-10 md:h-12" />
        </a>

        <nav class="hidden md:flex flex-grow justify-center space-x-8 font-semibold uppercase text-sm text-white">
            <a href="#" class="border-b-2 border-white pb-1">Home</a>
            <a href="#" class="hover:border-b-2 hover:border-white pb-1 transition-colors">About Us</a>
            <a href="#" class="hover:border-b-2 hover:border-white pb-1 transition-colors">The School</a>
            <a href="#" class="hover:border-b-2 hover:border-white pb-1 transition-colors">Programs</a>
            <a href="#" class="hover:border-b-2 hover:border-white pb-1 transition-colors">Contact Us</a>
        </nav>

        <div class="flex-shrink-0 w-10"></div>
    </nav>

    <ul id="mobile-menu" class="md:hidden flex flex-col items-center space-y-6 mt-20 py-6 absolute w-full top-20 bg-primary-color hidden z-40">
        <li><a href="#" class="text-white text-sm uppercase font-semibold hover:text-gray-300 transition duration-500">Home</a></li>
        <li><a href="#" class="text-white text-sm uppercase font-semibold hover:text-gray-300 transition duration-500">About Us</a></li>
        <li><a href="#" class="text-white text-sm uppercase font-semibold hover:text-gray-300 transition duration-500">The School</a></li>
        <li><a href="#" class="text-white text-sm uppercase font-semibold hover:text-gray-300 transition duration-500">Programs</a></li>
        <li><a href="#" class="text-white text-sm uppercase font-semibold hover:text-gray-300 transition duration-500">Contact Us</a></li>
    </ul>
</header>

<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script>
    const navbarStartColor = 'transparent';
    const navbarScrollColor = 'var(--primary-color)';

    function updateNavbarColor() {
        if (!$('#mobile-menu').hasClass('hidden') || $(window).scrollTop() > 50) {
            $('#navbar').css('background', navbarScrollColor);
        } else {
            $('#navbar').css('background', navbarStartColor);
        }
    }

    $('#menu-toggle').on('click', function() {
        $('#mobile-menu').toggleClass('hidden');
        updateNavbarColor();
    });

    $(document).on('click', function(event) {
        if (!$(event.target).closest('#mobile-menu, #menu-toggle').length) {
            $('#mobile-menu').addClass('hidden');
            updateNavbarColor();
        }
    });

    $(window).on('scroll', function() {
        updateNavbarColor();
    });

    $(document).ready(function() {
        updateNavbarColor();
    });
</script>
